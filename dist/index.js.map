{
  "version": 3,
  "sources": ["../bin/live-reload.js", "../src/index.ts"],
  "sourcesContent": ["new EventSource(`${SERVE_ORIGIN}/esbuild`).addEventListener('change', () => location.reload());\n", "/* eslint-disable no-console */\nimport { greetUser } from '$utils/greet';\n\nwindow.Webflow ||= [];\nwindow.Webflow.push(() => {\n  const devBtn = document.querySelector('#devBtn');\n  const devText = document.querySelector('#devText');\n\n  ///////////////////////////////////////////////////////\n  const map = L.map('map').setView([44.96193, -93.19876], 12);\n\n  L.tileLayer('https://tile.openstreetmap.org/{z}/{x}/{y}.png', {\n    maxZoom: 19,\n    attribution: '&copy; <a href=\"http://www.openstreetmap.org/copyright\">OpenStreetMap</a>',\n  }).addTo(map);\n  // L.Control.geocoder().addTo(map);\n\n  const myHeaders = new Headers();\n  myHeaders.append(\n    'Authorization',\n    'Bearer patrAJ8JGjXuGM2q1.42e1c29a4f18aa9bf9e192c82814e74e5d2ab9baae5543eb1d12f422d6461f02'\n  );\n  myHeaders.append(\n    'Cookie',\n    'brw=brwZvTCExMDX59gu8; AWSALB=y7aNExO+naIhJIQyRw6Fmi5UQZ1FRtVbaK4C50umFSJUV9ime2OaTRDvhbM1ZSWQu1P4kS4h9ai8pJUMZuPStOYw+AaBSTUUSnh4k2r+kyYgMhg6ITuMpB3Qd65K; AWSALBCORS=y7aNExO+naIhJIQyRw6Fmi5UQZ1FRtVbaK4C50umFSJUV9ime2OaTRDvhbM1ZSWQu1P4kS4h9ai8pJUMZuPStOYw+AaBSTUUSnh4k2r+kyYgMhg6ITuMpB3Qd65K'\n  );\n\n  const requestOptions = {\n    method: 'GET',\n    headers: myHeaders,\n    redirect: 'follow',\n  };\n\n  fetch('https://api.airtable.com/v0/appFU39SABmXIlZRs/tblYQ1DRIwpTLLUWS', requestOptions)\n    .then((response) => response.json())\n    .then((response) => response.records)\n    .then((items) => {\n      items.forEach((item) => {\n        // console.log(item.fields);\n        //   console.log(Lat, Lng);\n        const { Name, contact, Lat, Lng, preference } = item.fields;\n        const lat = Number(Lat);\n        const lng = Number(Lng);\n        const newMaker = L.marker([lat, lng], {\n          title: Name,\n          riseOnHover: true,\n        }).addTo(map);\n        newMaker\n          .addTo(map)\n          .bindPopup(\n            `<b>Family:</b> ${Name}<br><b>Contact:</b> ${contact}<br><br><b>Preference:</b><br> ${preference}`\n          );\n      });\n    })\n    .catch((error) => console.log('error', error));\n\n  let house;\n\n  // L.Control.geocoder().addTo(map);\n\n  map.once('click', function (e) {\n    const homeIcon = L.icon({\n      iconUrl: 'https://img.icons8.com/doodle/512/filled-flag.png',\n      iconSize: [20, 20],\n      iconAnchor: [10, 10],\n    });\n\n    house = L.marker([e.latlng.lat, e.latlng.lng], {\n      draggable: true,\n      icon: homeIcon,\n    }).addTo(map);\n    map.setView(house.getLatLng());\n    house\n      .bindPopup('Drag your flag to wherever you want,<br>and then submit the form below')\n      .openPopup();\n  });\n\n  devBtn?.addEventListener('click', function () {\n    const { lat, lng } = house.getLatLng();\n    const name = document.querySelector('#name')?.value;\n    const pref = document.querySelector('#preference')?.value;\n    const cont = document.querySelector('#contact')?.value;\n    const permBox = document.querySelector('#permissionBox').checked;\n    const mapBox = document.querySelector('#mapBox').checked;\n    const date = new Date(Date.now()).toLocaleString();\n    // console.log(name, pref, cont, permBox);\n    console.log(date, permBox);\n    if (name && pref && cont && permBox === true && mapBox === true) {\n      console.log('Ready to go');\n      const options = {\n        method: 'POST',\n        headers: {\n          accept: 'application/json',\n          'content-type': 'application/json',\n          authorization:\n            'Bearer patrAJ8JGjXuGM2q1.42e1c29a4f18aa9bf9e192c82814e74e5d2ab9baae5543eb1d12f422d6461f02',\n        },\n        body: JSON.stringify({\n          fields: {\n            Name: name,\n            contact: cont,\n            preference: pref,\n            slug: name,\n            Lat: `${lat.toString()}`,\n            Lng: `${lng.toString()}`,\n            Status: 'Active',\n            date: date,\n          },\n        }),\n      };\n\n      fetch('https://api.airtable.com/v0/appFU39SABmXIlZRs/tblYQ1DRIwpTLLUWS', options)\n        .then((response) => response.json())\n        .then((response) => console.log(response))\n        .catch((err) => console.error(err)); // STOPPEPD HERE\n\n      const homeIcon2 = L.icon({\n        iconUrl:\n          'https://static.wixstatic.com/media/c4450c_168cf5fbfc1b4ff5b175236c985a3086~mv2.png',\n        iconSize: [20, 20],\n        iconAnchor: [15, -10],\n      });\n      house.setIcon(homeIcon2);\n      map.setView(house.getLatLng(), 13);\n      house.bindPopup('This is you!<br>Explore the map to connect!').openPopup();\n\n      const scrollToElement = document.querySelector('#mapZoom').offsetTop;\n      window.scrollTo(0, scrollToElement);\n    } else console.log(\"something dind't work\");\n  });\n  const schoolIcon = L.icon({\n    iconUrl: 'https://img.icons8.com/fluency-systems-filled/512/school-building.png',\n    iconSize: [30, 30],\n    iconAnchor: [15, 15],\n  });\n\n  const layer = L.marker([44.962242019810816, -93.19836196172906], {\n    icon: schoolIcon,\n  }).addTo(map);\n  layer.bindPopup('This is Avalon!');\n\n  // console.log('MANIAC YOU ? You1');\n});\n"],
  "mappings": ";;;AAAA,MAAI,YAAY,GAAG,iCAAsB,EAAE,iBAAiB,UAAU,MAAM,SAAS,OAAO,CAAC;;;ACG7F,SAAO,YAAY,CAAC;AACpB,SAAO,QAAQ,KAAK,MAAM;AACxB,UAAM,SAAS,SAAS,cAAc,SAAS;AAC/C,UAAM,UAAU,SAAS,cAAc,UAAU;AAGjD,UAAM,MAAM,EAAE,IAAI,KAAK,EAAE,QAAQ,CAAC,UAAU,SAAS,GAAG,EAAE;AAE1D,MAAE,UAAU,kDAAkD;AAAA,MAC5D,SAAS;AAAA,MACT,aAAa;AAAA,IACf,CAAC,EAAE,MAAM,GAAG;AAGZ,UAAM,YAAY,IAAI,QAAQ;AAC9B,cAAU;AAAA,MACR;AAAA,MACA;AAAA,IACF;AACA,cAAU;AAAA,MACR;AAAA,MACA;AAAA,IACF;AAEA,UAAM,iBAAiB;AAAA,MACrB,QAAQ;AAAA,MACR,SAAS;AAAA,MACT,UAAU;AAAA,IACZ;AAEA,UAAM,mEAAmE,cAAc,EACpF,KAAK,CAAC,aAAa,SAAS,KAAK,CAAC,EAClC,KAAK,CAAC,aAAa,SAAS,OAAO,EACnC,KAAK,CAAC,UAAU;AACf,YAAM,QAAQ,CAAC,SAAS;AAGtB,cAAM,EAAE,MAAM,SAAS,KAAK,KAAK,WAAW,IAAI,KAAK;AACrD,cAAM,MAAM,OAAO,GAAG;AACtB,cAAM,MAAM,OAAO,GAAG;AACtB,cAAM,WAAW,EAAE,OAAO,CAAC,KAAK,GAAG,GAAG;AAAA,UACpC,OAAO;AAAA,UACP,aAAa;AAAA,QACf,CAAC,EAAE,MAAM,GAAG;AACZ,iBACG,MAAM,GAAG,EACT;AAAA,UACC,kBAAkB,2BAA2B,yCAAyC;AAAA,QACxF;AAAA,MACJ,CAAC;AAAA,IACH,CAAC,EACA,MAAM,CAAC,UAAU,QAAQ,IAAI,SAAS,KAAK,CAAC;AAE/C,QAAI;AAIJ,QAAI,KAAK,SAAS,SAAU,GAAG;AAC7B,YAAM,WAAW,EAAE,KAAK;AAAA,QACtB,SAAS;AAAA,QACT,UAAU,CAAC,IAAI,EAAE;AAAA,QACjB,YAAY,CAAC,IAAI,EAAE;AAAA,MACrB,CAAC;AAED,cAAQ,EAAE,OAAO,CAAC,EAAE,OAAO,KAAK,EAAE,OAAO,GAAG,GAAG;AAAA,QAC7C,WAAW;AAAA,QACX,MAAM;AAAA,MACR,CAAC,EAAE,MAAM,GAAG;AACZ,UAAI,QAAQ,MAAM,UAAU,CAAC;AAC7B,YACG,UAAU,wEAAwE,EAClF,UAAU;AAAA,IACf,CAAC;AAED,YAAQ,iBAAiB,SAAS,WAAY;AAC5C,YAAM,EAAE,KAAK,IAAI,IAAI,MAAM,UAAU;AACrC,YAAM,OAAO,SAAS,cAAc,OAAO,GAAG;AAC9C,YAAM,OAAO,SAAS,cAAc,aAAa,GAAG;AACpD,YAAM,OAAO,SAAS,cAAc,UAAU,GAAG;AACjD,YAAM,UAAU,SAAS,cAAc,gBAAgB,EAAE;AACzD,YAAM,SAAS,SAAS,cAAc,SAAS,EAAE;AACjD,YAAM,OAAO,IAAI,KAAK,KAAK,IAAI,CAAC,EAAE,eAAe;AAEjD,cAAQ,IAAI,MAAM,OAAO;AACzB,UAAI,QAAQ,QAAQ,QAAQ,YAAY,QAAQ,WAAW,MAAM;AAC/D,gBAAQ,IAAI,aAAa;AACzB,cAAM,UAAU;AAAA,UACd,QAAQ;AAAA,UACR,SAAS;AAAA,YACP,QAAQ;AAAA,YACR,gBAAgB;AAAA,YAChB,eACE;AAAA,UACJ;AAAA,UACA,MAAM,KAAK,UAAU;AAAA,YACnB,QAAQ;AAAA,cACN,MAAM;AAAA,cACN,SAAS;AAAA,cACT,YAAY;AAAA,cACZ,MAAM;AAAA,cACN,KAAK,GAAG,IAAI,SAAS;AAAA,cACrB,KAAK,GAAG,IAAI,SAAS;AAAA,cACrB,QAAQ;AAAA,cACR;AAAA,YACF;AAAA,UACF,CAAC;AAAA,QACH;AAEA,cAAM,mEAAmE,OAAO,EAC7E,KAAK,CAAC,aAAa,SAAS,KAAK,CAAC,EAClC,KAAK,CAAC,aAAa,QAAQ,IAAI,QAAQ,CAAC,EACxC,MAAM,CAAC,QAAQ,QAAQ,MAAM,GAAG,CAAC;AAEpC,cAAM,YAAY,EAAE,KAAK;AAAA,UACvB,SACE;AAAA,UACF,UAAU,CAAC,IAAI,EAAE;AAAA,UACjB,YAAY,CAAC,IAAI,GAAG;AAAA,QACtB,CAAC;AACD,cAAM,QAAQ,SAAS;AACvB,YAAI,QAAQ,MAAM,UAAU,GAAG,EAAE;AACjC,cAAM,UAAU,6CAA6C,EAAE,UAAU;AAEzE,cAAM,kBAAkB,SAAS,cAAc,UAAU,EAAE;AAC3D,eAAO,SAAS,GAAG,eAAe;AAAA,MACpC;AAAO,gBAAQ,IAAI,uBAAuB;AAAA,IAC5C,CAAC;AACD,UAAM,aAAa,EAAE,KAAK;AAAA,MACxB,SAAS;AAAA,MACT,UAAU,CAAC,IAAI,EAAE;AAAA,MACjB,YAAY,CAAC,IAAI,EAAE;AAAA,IACrB,CAAC;AAED,UAAM,QAAQ,EAAE,OAAO,CAAC,oBAAoB,kBAAkB,GAAG;AAAA,MAC/D,MAAM;AAAA,IACR,CAAC,EAAE,MAAM,GAAG;AACZ,UAAM,UAAU,iBAAiB;AAAA,EAGnC,CAAC;",
  "names": []
}
